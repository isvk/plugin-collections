(this.webpackJsonpreflist=this.webpackJsonpreflist||[]).push([[0],{55:function(e,n,t){e.exports=t(72)},71:function(e,n,t){},72:function(e,n,t){"use strict";t.r(n),t.d(n,"history",(function(){return wn}));var r,a=t(0),c=t.n(a),o=t(27),i=t.n(o),u=t(15),l=t(16),d=t(11),s=t(38),f=t(29),p=t(53),b=t(23),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.a)([]),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOAD_CATEGORIES":return e;case"ADD_CATEGORIES":return n.categories.forEach((function(n){e=e.push(n)})),e;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.a)([]),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOAD_PRODUCTS":return e;case"ADD_PRODUCTS":return n.products.forEach((function(n){e=e.push(n)})),e;default:return e}},v=t(24),g=t(54),O=t(52);!function(e){e[e.notLoaded=0]="notLoaded",e[e.loaded=1]="loaded",e[e.errorServer=2]="errorServer"}(r||(r={}));var j={status:r.notLoaded,head_description:"",head_subtitle:"",head_title:"",head_logo:null},x=function(e){Object(g.a)(t,e);var n=Object(O.a)(t);function t(){return Object(v.a)(this,t),n.apply(this,arguments)}return t}(Object(b.b)(j)),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new x,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOAD_ALL":return e;case"ADD_MAIN":return n.main;case"SET_STATUS":return e.set("status",n.status);default:return e}},E=function(e){return Object(u.c)({router:Object(f.b)(e),main:w,categories:m,products:h})},_=t(20),y=t.n(_),S=t(40),L=t(21),k=t(17),A=y.a.mark(T),D=y.a.mark(R);function T(e,n){var t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(k.b)(e.container.ApiAll.loadAll);case 3:return(t=n.sent).products.sort((function(e,n){return new Date(n.created_at).getTime()-new Date(e.created_at).getTime()})),t.categories.sort((function(e,n){return e.sort-n.sort})),n.next=8,Object(k.c)({type:"ADD_CATEGORIES",categories:t.categories});case 8:return n.next=10,Object(k.c)({type:"ADD_PRODUCTS",products:t.products});case 10:return n.next=12,Object(k.c)({type:"ADD_MAIN",main:Object(L.a)(Object(L.a)({},t.main),{},{status:r.loaded})});case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(k.c)({type:"SET_STATUS",status:r.errorServer});case 18:case"end":return n.stop()}}),A,null,[[0,14]])}function R(e){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(k.d)("LOAD_ALL",T,e);case 2:case"end":return n.stop()}}),D)}var C=t(41),z=new(t.n(C).a),I=z;z.service("Http",(function e(){Object(v.a)(this,e),this.getFetch=function(e){return fetch("/plugin-collections/build/api/graphql",{method:"GET"}).then((function(e){return e.json()}))}})),z.service("ApiAll",(function e(n){var t=this;Object(v.a)(this,e),this.http=n,this.loadAll=function(){return t.http.getFetch({query:"{\n            main {\n                head_title\n                head_subtitle\n                head_description\n                head_logo\n                    {url}\n                }\n            categories {\n                id\n                sort\n                url\n                name\n                img {url}\n            }\n            products {\n                id\n                created_at            \n                category\n                    {id url}\n                name\n                link\n                img_webp_150\n                    {url}\n                img_webp_300\n                    {url}\n                img_webp_600\n                    {url}\n                img_jpeg_150\n                    {url} \n                img_jpeg_300\n                    {url}\n                img_jpeg_600\n                    {url}\n            }\n        }",variables:{}}).then((function(e){return e.data}))}}),"Http");Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=t(7),F=t(4),N=t(3);function U(e,n){return Object(l.e)((function(t){return e(t,n)}))}var H=t(35),M=function(e){return e.main},G=function(e){return e.categories},P=Object(H.a)(M,(function(e){return e.status})),q=Object(H.a)((function(e){return e.products}),(function(e,n){return n}),(function(e,n){return e.filter((function(e){return!n||e.category&&e.category.url===n}))})),B=t(48),J=t(45);function X(){var e=Object(F.a)(["\n    color: #ff0000;\n"]);return X=function(){return e},e}function V(){var e=Object(F.a)(["\n    animation: rotate 2s linear infinite;\n    color: #2196f3;\n\n    @keyframes rotate {\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n"]);return V=function(){return e},e}function Y(){var e=Object(F.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 50% 0;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 28px;\n    color: #4a4a4a;\n"]);return Y=function(){return e},e}function $(e){return c.a.createElement(Q,null,"preload"===e.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Z,{size:"28"})," ",e.text),"warning"===e.type&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ee,{size:"28"})," ",e.text))}var K,Q=N.b.div(Y()),Z=Object(N.b)(J.a)(V()),ee=Object(N.b)(B.a)(X()),ne=t(25);function te(){var e=Object(F.a)(["\n    background: ",";\n"]);return te=function(){return e},e}function re(e){var n,t=Object(a.useState)(K.notLoaded),r=Object(ne.a)(t,2),o=r[0],i=r[1],u=c.a.createElement(oe,{className:e.className,src:ae(e.url,o),alt:e.alt,status:o,onLoad:function(){return i(o===K.errorServer?K.errorServer:K.loaded)},onError:function(){return i(K.errorServer)}});return c.a.createElement(c.a.Fragment,null,(null===(n=e.sources)||void 0===n?void 0:n.length)?c.a.createElement("picture",null,e.sources.map((function(e,n){return e.srcSet&&c.a.createElement("source",{srcSet:e.srcSet,type:e.type,media:e.media,key:n})})),u):u)}!function(e){e[e.notLoaded=0]="notLoaded",e[e.loaded=1]="loaded",e[e.errorServer=2]="errorServer"}(K||(K={}));var ae=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.loaded;return e&&e.length&&n!==K.errorServer?"/plugin-collections/build/api"+e:"/plugin-collections/build/notfound.svg"},ce=function(e,n){var t=[];return e&&t.push(ae(e)+" 1x"),n&&t.push(ae(n)+" 2x"),t.length?t.join(", "):void 0},oe=N.b.img(te(),(function(e){switch(e.status){case K.notLoaded:return"url(/plugin-collections/buildpreloader.svg) no-repeat center";case K.loaded:case K.errorServer:default:return"#ffffff"}}));function ie(){var e=Object(F.a)(["\n    a {\n        color: #25578e;\n        text-decoration: none;\n        font-weight: bold;\n    }\n"]);return ie=function(){return e},e}function ue(){var e=Object(F.a)(["\n    font-weight: bold;\n"]);return ue=function(){return e},e}function le(){var e=Object(F.a)(["\n    font-size: 16px;\n    line-height: 30px;\n"]);return le=function(){return e},e}function de(){var e=Object(F.a)([""]);return de=function(){return e},e}function se(){var e=Object(F.a)(["\n    display: block;\n    width: 120px;\n    height: 120px;\n    border-radius: 60px;\n    border: 1px solid #ccc;\n\n    @media (max-width: ","px) {\n        width: 60px;\n        height: 60px;\n        border-radius: 30px;\n    }\n"]);return se=function(){return e},e}function fe(){var e=Object(F.a)(["\n    padding: 30px 100px 30px 70px;\n\n    @media (max-width: ","px) {\n        padding: 10px;\n    }\n"]);return fe=function(){return e},e}function pe(){var e=Object(F.a)(["\n    display: flex;\n    align-items: center;\n    padding: 10px 0;\n    width: 100%;\n"]);return pe=function(){return e},e}function be(){var e,n=U(M);return c.a.createElement(me,null,c.a.createElement(he,null,c.a.createElement(ve,{url:null===(e=n.head_logo)||void 0===e?void 0:e.url,alt:"Logo"})),c.a.createElement(ge,null,c.a.createElement(Oe,null,n.head_title),c.a.createElement(je,null,n.head_subtitle),c.a.createElement(xe,{dangerouslySetInnerHTML:{__html:n.head_description}})))}var me=N.b.header(pe()),he=N.b.div(fe(),(function(e){return e.theme.media_mobile})),ve=Object(N.b)(re)(se(),(function(e){return e.theme.media_mobile})),ge=N.b.div(de()),Oe=N.b.h1(le()),je=N.b.h2(ue()),xe=N.b.div(ie());function we(e,n,t){var r=Object(a.useRef)();Object(a.useEffect)((function(){r.current=n}),[n]),Object(a.useEffect)((function(){var n=(null===t||void 0===t?void 0:t.current)||window;if(n&&n.addEventListener){var a=function(e){r.current&&r.current(e)};return n.addEventListener(e,a),function(){n.removeEventListener(e,a)}}}),[e,t])}var Ee=t(49),_e=t(50);t(69);function ye(){var e=Object(F.a)(["\n    color: #aaa;\n    background-color: #fff;\n    border-radius: 50%;\n"]);return ye=function(){return e},e}function Se(){var e=Object(F.a)(["\n    color: #aaa;\n    background-color: #fff;\n    border-radius: 50%;\n"]);return Se=function(){return e},e}function Le(){var e=Object(F.a)(["\n    right: 0;\n"]);return Le=function(){return e},e}function ke(){var e=Object(F.a)([""]);return ke=function(){return e},e}function Ae(){var e=Object(F.a)(["\n    display: block;\n    position: absolute;\n    top: 53px;\n    padding: 10px;\n    cursor: pointer;\n    border: none;\n    background: unset;\n    z-index: 10;\n\n    &:focus:not(.focus-visible) {\n        outline: none;\n    }\n"]);return Ae=function(){return e},e}function De(e){return c.a.createElement(c.a.Fragment,null,"left"===e.type?c.a.createElement(Re,null,c.a.createElement(ze,{size:"20",onClick:function(){return e.handleScroll(e.scrollWidth)}})):c.a.createElement(Ce,null,c.a.createElement(Ie,{size:"20",onClick:function(){return e.handleScroll(e.scrollWidth)}})))}var Te=N.b.button(Ae()),Re=Object(N.b)(Te)(ke()),Ce=Object(N.b)(Te)(Le()),ze=Object(N.b)(Ee.a)(Se()),Ie=Object(N.b)(_e.a)(ye()),We=t(51);function Fe(){var e=Object(F.a)(["\n    text-overflow: ellipsis;\n    text-align: center;\n    line-height: 25px;\n    white-space: nowrap;\n    overflow: hidden;\n"]);return Fe=function(){return e},e}function Ne(){var e=Object(F.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: calc(100% - 6px);\n    height: calc(100% - 6px);\n    border: 3px solid #ffffff;\n    border-radius: 50%;\n"]);return Ne=function(){return e},e}function Ue(){var e=Object(F.a)(["\n    display: block;\n    position: relative;\n    overflow: hidden;\n    height: 0;\n    padding: 50%;\n    background-color: #fff;\n    border: 1px solid ",";\n    border-radius: 50%;\n"]);return Ue=function(){return e},e}function He(){var e=Object(F.a)(["\n    display: block;\n    color: #000;\n    text-decoration: none;\n"]);return He=function(){return e},e}function Me(){var e=Object(F.a)(["\n    flex: 0 0 auto;\n    width: 82px;\n    padding: 30px 23px;\n\n    @media (max-width: ","px) {\n        width: 64px;\n        padding: 5px;\n    }\n"]);return Me=function(){return e},e}function Ge(e){var n,t=Object(W.f)().urlCategory;return c.a.createElement(Pe,null,c.a.createElement(qe,{to:e.category.url===t?"/":"/category/"+e.category.url},c.a.createElement(Be,{selected:e.category.url===t},c.a.createElement(Je,{url:null===(n=e.category.img)||void 0===n?void 0:n.url,alt:e.category.name})),c.a.createElement(Xe,null,e.category.name)))}var Pe=N.b.div(Me(),(function(e){return e.theme.media_mobile})),qe=Object(N.b)(We.a)(He()),Be=N.b.div(Ue(),(function(e){return e.selected?"#ff0000":"#cccccc"})),Je=Object(N.b)(re)(Ne()),Xe=N.b.div(Fe());function Ve(){var e=Object(F.a)(["\n    display: flex;\n    flex-wrap: nowrap;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    ::-webkit-scrollbar {\n        display: none;\n    }\n"]);return Ve=function(){return e},e}function Ye(){var e=Object(F.a)(["\n    display: flex;\n    align-items: center;\n    user-select: none;\n    flex-wrap: wrap;\n    position: relative;\n"]);return Ye=function(){return e},e}function $e(){var e=U(G),n=Object(a.useRef)(null),t=Object(a.useReducer)(Ke,{left:!1,right:!1}),r=Object(ne.a)(t,2),o=r[0],i=r[1],u=window.matchMedia("(pointer:fine)").matches,l=Object(a.useCallback)((function(){n.current&&u?(i(Qe.setLeft(n.current.scrollLeft>0)),i(Qe.setRight(n.current.scrollWidth-n.current.offsetWidth>n.current.scrollLeft))):(i(Qe.setLeft(!1)),i(Qe.setRight(!1)))}),[u]),d=Object(a.useCallback)((function(e){n.current&&n.current.scrollTo({left:n.current.scrollLeft+e,behavior:"smooth"})}),[]);return we("resize",l),Object(a.useEffect)((function(){l()}),[]),c.a.createElement(Ze,{onScroll:l},o.left&&c.a.createElement(De,{type:"left",handleScroll:d,scrollWidth:-536}),c.a.createElement(en,{ref:n},e.map((function(e){return c.a.createElement(Ge,{category:e,key:e.id})}))),o.right&&c.a.createElement(De,{type:"right",handleScroll:d,scrollWidth:536}))}var Ke=function(e,n){switch(n.type){case"setLeft":return e.left!==n.value?Object(L.a)(Object(L.a)({},e),{},{left:n.value}):e;case"setRight":return e.right!==n.value?Object(L.a)(Object(L.a)({},e),{},{right:n.value}):e;default:throw new Error}},Qe={setLeft:function(e){return{type:"setLeft",value:e}},setRight:function(e){return{type:"setRight",value:e}}},Ze=N.b.div(Ye()),en=N.b.div(Ve());function nn(){var e=Object(F.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return nn=function(){return e},e}function tn(){var e=Object(F.a)(["\n    display: block;\n    overflow: hidden;\n    height: 0;\n    padding: 50%;\n    position: relative;\n"]);return tn=function(){return e},e}function rn(){var e=Object(F.a)(["\n    width: calc((100% - ","px) / ",");\n    margin-right: ","px;\n    margin-bottom: ","px;\n\n    &:nth-child(","n) {\n        margin-right: 0;\n    }\n\n    &:nth-last-child(-n + ",") {\n        margin-bottom: 0;\n    }\n\n    @media (max-width: ","px) {\n        width: calc((100% - ","px) / ",");\n        margin-right: ","px;\n        margin-bottom: ","px;\n    }\n"]);return rn=function(){return e},e}function an(e){var n;return c.a.createElement(dn,null,c.a.createElement(sn,{href:e.product.link},c.a.createElement(fn,{url:null===(n=e.product.img_jpeg_300)||void 0===n?void 0:n.url,sources:cn(e.product),alt:e.product.name})))}var cn=function(e){var n,t,r,a,c,o,i,u;return[{srcSet:ce(null===(n=e.img_webp_150)||void 0===n?void 0:n.url,null===(t=e.img_webp_300)||void 0===t?void 0:t.url),type:"image/webp",media:"(max-width: 456px)"},{srcSet:ce(null===(r=e.img_jpeg_150)||void 0===r?void 0:r.url,null===(a=e.img_jpeg_300)||void 0===a?void 0:a.url),type:"image/jpeg",media:"(max-width: 456px)"},{srcSet:ce(null===(c=e.img_webp_300)||void 0===c?void 0:c.url,null===(o=e.img_webp_600)||void 0===o?void 0:o.url),type:"image/webp"},{srcSet:ce(null===(i=e.img_jpeg_300)||void 0===i?void 0:i.url,null===(u=e.img_jpeg_600)||void 0===u?void 0:u.url),type:"image/jpeg"}].filter((function(e){return e.srcSet}))},on=3,un=17,ln=3,dn=N.b.div(rn(),un*(on-1),on,un,un,on,on,(function(e){return e.theme.media_mobile}),ln*(on-1),on,ln,ln),sn=N.b.a(tn()),fn=Object(N.b)(re)(nn());function pn(){var e=Object(F.a)(["\n    display: flex;\n    flex-flow: row wrap;\n    width: 100%;\n"]);return pn=function(){return e},e}function bn(){var e=Object(W.f)().urlCategory,n=U(q,e),t=Object(a.useState)(30),r=Object(ne.a)(t,2),o=r[0],i=r[1],u=n.slice(0,o);return we("scroll",(function(){window.scrollY+window.innerHeight+500>=document.documentElement.scrollHeight&&o<n.size&&i(o+30)})),c.a.createElement(mn,null,u.map((function(e){return c.a.createElement(an,{product:e,key:e.id})})))}var mn=N.b.div(pn());function hn(){var e=Object(F.a)(["\n    max-width: 935px;\n    margin: 0 auto;\n    font-size: 16px;\n    background-color: #fafafa;\n\n    @media (max-width: ","px) {\n        font-size: 14px;\n    }\n"]);return hn=function(){return e},e}function vn(){var e=U(P),n=Object(l.d)();return Object(a.useEffect)((function(){n({type:"LOAD_ALL"})}),[]),c.a.createElement(N.a,{theme:On},c.a.createElement(jn,null,e===r.notLoaded&&c.a.createElement($,{type:"preload",text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),e===r.errorServer&&c.a.createElement($,{type:"warning",text:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),e===r.loaded&&c.a.createElement(c.a.Fragment,null,c.a.createElement(be,null),c.a.createElement("main",null,c.a.createElement($e,null),c.a.createElement(bn,null)))))}var gn,On={media_mobile:736},jn=N.b.div(hn(),(function(e){return e.theme.media_mobile})),xn=function(){return c.a.createElement(W.c,null,c.a.createElement(W.a,{exact:!0,path:"/",component:vn}),c.a.createElement(W.a,{exact:!0,path:"/category/:urlCategory",component:vn}))},wn=(t(70),t(71),Object(d.a)({basename:"/plugin-collections/build/"})),En=Object(p.a)(),_n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,yn=Object(u.e)(E(wn),_n(Object(u.a)(En,Object(s.a)(wn))));En.run((gn=I,y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)([R(gn)]);case 2:case"end":return e.stop()}}),e)})))),i.a.render(c.a.createElement(l.a,{store:yn},c.a.createElement(f.a,{history:wn},c.a.createElement(xn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.c7a509eb.chunk.js.map